<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{{.title}} - HeroScript Editor</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
	<link rel="stylesheet" href="{{.css_colors_url}}">
	<link rel="stylesheet" href="{{.css_main_url}}">
	<link rel="stylesheet" href="{{.css_heroscript_url}}">
	<meta name="color-scheme" content="light dark">
</head>
<body>
	<nav class="navbar navbar-dark bg-dark fixed-top header px-2">
		<div class="d-flex w-100 align-items-center justify-content-between">
			<div class="text-white fw-bold">{{.title}}</div>
			<div class="text-white-50">HeroScript Editor</div>
		</div>
	</nav>

	<aside class="sidebar">
		<div class="p-2">
			<div class="menu-section">Navigation</div>
			<div class="list-group list-group-flush">
				{{.menu_html}}
			</div>
		</div>
	</aside>

	<main class="main">
		<div class="container-fluid h-100">
			<div class="d-flex align-items-center mb-3">
				<h5 class="mb-0">HeroScript Editor</h5>
				<div class="ms-auto">
					<button id="run-script" class="btn btn-primary btn-sm me-2">
						<i class="fas fa-play"></i> Run Script
					</button>
					<button id="clear-logs" class="btn btn-outline-secondary btn-sm me-2">
						<i class="fas fa-trash"></i> Clear Logs
					</button>
					<button id="save-script" class="btn btn-success btn-sm">
						<i class="fas fa-save"></i> Save
					</button>
				</div>
			</div>
			
			<div class="row h-100">
				<!-- Editor Panel -->
				<div class="col-lg-9 col-md-8 h-100">
					<div class="card h-100">
						<div class="card-header d-flex justify-content-between align-items-center">
							<h6 class="mb-0">Script Editor</h6>
							<div class="editor-controls">
								<select id="syntax-select" class="form-select form-select-sm">
									<option value="javascript">JavaScript</option>
									<option value="python">Python</option>
									<option value="bash">Bash</option>
									<option value="yaml">YAML</option>
									<option value="json">JSON</option>
								</select>
							</div>
						</div>
						<div class="card-body p-0 h-100">
							<div id="editor-container" class="h-100">
								<textarea id="script-editor" class="form-control h-100"
									placeholder="// Enter your HeroScript here...
// Welcome to HeroScript Editor!
console.log('Hello from HeroScript!');

// Example: Simple loop with logging
for (let i = 1; i <= 5; i++) {
			 console.log(`Step ${i}: Processing...`);
}

// Example: Conditional logic
if (new Date().getHours() < 12) {
			 console.log('Good morning!');
} else {
			 console.log('Good afternoon!');
}

console.log('Script execution completed!');

// Try editing this script and click 'Run Script' to see it in action
// Use Ctrl+Enter to run, Ctrl+S to save, Ctrl+L to clear logs"></textarea>
							</div>
						</div>
					</div>
				</div>
				
				<!-- Logs Panel -->
				<div class="col-lg-3 col-md-4 h-100">
					<div class="card h-100">
						<div class="card-header d-flex justify-content-between align-items-center">
							<h6 class="mb-0">Execution Logs</h6>
							<div class="log-controls">
								<span class="badge bg-success" id="connection-status">Connected</span>
								<button id="auto-scroll" class="btn btn-outline-primary btn-sm ms-2" data-active="true">
									<i class="fas fa-arrow-down"></i> Auto-scroll
								</button>
							</div>
						</div>
						<div class="card-body p-0 h-100">
							<div id="logs-container" class="h-100 overflow-auto">
								<div id="logs-content" class="p-3">
									<div class="log-entry system">
										<span class="timestamp">[${new Date().toISOString()}]</span>
										<span class="level info">INFO</span>
										<span class="message">HeroScript Editor initialized. Waiting for script execution...</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<!-- Font Awesome for icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	
	<!-- Highlight.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
	
	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	
	<!-- Theme and HeroScript JS -->
	<script src="{{.js_theme_url}}"></script>
	<script src="{{.js_heroscript_url}}"></script>
</body>
</html>